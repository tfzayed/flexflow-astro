---
import Player from "@/components/about/Player.astro";
import StoryCard from "@/components/about/StoryCard.astro";
import VisionTab from "@/components/about/VisionTab";
import Card from "@/components/Card.astro";
import Base from "@/layouts/Base.astro";
import { markdownify } from "@/lib/utils/textConverter";
import { getEntry } from "astro:content";

const about = await getEntry("about", "-index");
const { Content } = await about.render();
const { title, description, meta_title, video, badge, story, value } =
  about.data;
---

<Base title={title} meta_title={meta_title} description={description}>
  <!-- header -->
  <section class="section-hero-bottom-extended">
    <div
      class="flex flex-col lg:flex-row gap-x-4 gap-y-14 items-center container mx-auto w-full"
    >
      <div class="text-center">
        <span
          class="bg-white/40 px-5 py-1 rounded-full text-base-sm text-dark inline-block mb-3"
          data-aos=""
          set:html={markdownify(badge!)}
        />

        <h1
          class="page-heading"
          data-aos="fade-up-sm"
          data-aos-delay="50"
          set:html={markdownify(title)}
        />
        <p
          class="mb-7 text-dark/75 lg:col-8 px-10 mx-auto font-medium"
          data-aos="fade-up-sm"
          data-aos-delay="100"
          set:html={markdownify(description!)}
        />
      </div>
    </div>
  </section>
  <Player video={video} />

  <!-- our story -->
  <section class="section">
    <div class="container">
      <div class="text-center mb-11">
        <span
          class="bg-secondary/20 px-5 py-1 rounded-full text-base-sm text-dark inline-block mb-3"
          data-aos="fade-up-sm"
          set:html={markdownify(story!.badge!)}
        />

        <h2
          class="mb-4"
          data-aos="fade-up-sm"
          data-aos-delay="50"
          set:html={markdownify(story!.title)}
        />
        <p
          class="mb-7 text-dark/75 lg:col-8 px-10 mx-auto font-medium"
          data-aos="fade-up-sm"
          data-aos-delay="100"
          set:html={markdownify(story!.description)}
        />
      </div>
      <div class="grid md:grid-cols-2 gap-10">
        {story!.cards.map((card, i: number) => <StoryCard card={card} i={i} />)}
      </div>
    </div>
  </section>

  <!-- our value -->
  <section>
    <div class="section">
      <div class="container">
        <div class="text-center mb-11">
          <span
            class="bg-secondary/20 px-5 py-1 rounded-full text-base-sm text-dark inline-block mb-3"
            data-aos="fade-up-sm"
            set:html={markdownify(value!.badge!)}
          />

          <h2
            class="mb-4"
            data-aos="fade-up-sm"
            data-aos-delay="50"
            set:html={markdownify(value!.title)}
          />
          <pÃŸ
            class="mb-7 text-dark/75 lg:col-8 px-10 mx-auto font-medium"
            data-aos="fade-up-sm"
            data-aos-delay="100"
            set:html={markdownify(value!.description)}
          />
        </div>
        <div class="grid md:grid-cols-2 xl:grid-cols-4 gap-5">
          {value!.cards.map((card, i: number) => <Card card={card} i={i} />)}
        </div>
      </div>
    </div>
    <!-- inspration -->
    <VisionTab visions={value} client:load />
  </section>

  
</Base>
